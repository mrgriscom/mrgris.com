---
title: VGM
style: vgm
path: /data/music/vgm
urlroot: /media_vgm
systems:
  default: ???
  override: []
---

<p>I'm not an archivist; sorry!</p>

<% mp3info(@item).group_by {|t| [t['game'], t['system']]}.sort.each do |key, tracks|
  game = key[0]
  system = key[1]
%>
  <tr><td colspan="3"><h3><%= game %>&nbsp;<span class="system"> (<%= system %>)</span></h3></td></tr>
  <table class="tracks">
  <% tracks.sort_by {|t| t['title']}.each do |track| %>
    <tr>
    <% r = track['rating'] %>
    <td class="rating"><% if not r %><% elsif r == 0 %>&#x2606;<% else %><%= (1..r).map{|i| '&#x2605;'}.join %><% end %></td>
    <td class="title"><%= mk_link(File::join(@item[:urlroot], track['filename']), track['title'], true) %></a></td>
    <td class="length"><%= fmt_length(track['length']) %></td>
    </tr>
  <% end %>
  </table>
<% end %>
